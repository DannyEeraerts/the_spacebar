{% extends 'base.html.twig' %}

{% block title %}
    Read {{ article.title }}
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row mt-4 mb-3 d-flex align-items-center">
            <div class="col-6 col-sm-5">
                <figure>
                    <img class="img-fluid show-article-img"
                         src="{{ asset(article.imagePath) }}">
                    <figcaption class="ml-1">-{{ article.imageNameWithoutExtention}}-</figcaption>
                </figure>

            </div>
            <div class="col-6 col-sm-7 text-center">
                <h1 class="title mb-4">{{ article.title }}</h1>
                <span class="align-left article-details"><img class="article-author-img rounded-circle"
                    src="{{ asset('images/anakin-skywalker.png') }}"> {{ article.author }}
                </span>
                <span class="pl-2 article-details">
                    {{ article.publishedAt ? article.publishedAt | ago  : 'unpublished'}}
                    on
                    {{ article.publishedAt ? article.publishedAt | date('D d/m/Y')  : 'unpublished'}}
                </span>
                <span class="pl-2 article-details"> <span class="js-like-article-count"> {{ article.heartCount }}</span>
                    <a href="#" class="ml-1 fa fa-heart-o like-article js-like-article" data-link = {{ article.slug }}></a>
                </span>
                <p class="article-details mt-2">
                    tags:&nbsp
                    {% for tag in article.tags %}
                        <span class="badge badge-secondary">
                            {{ tag.name }}
                        </span>
                    {% endfor %}
                </p>
            </div>

        </div>


        <div class="row">
            <div class="col-12">

                {{ article.content|trans|raw }}

                {#<h4>Current Counts:</h4>
                <ul>
                    <li><strong>Known Asteroids:</strong> <span class="color">57 5269</span></li>
                    <li><strong>Known Comets:</strong> <span class="color">3 611</span></li>
                </ul>
                <br/>
                {{ articleParagraph1|raw }}
                {{ articleParagraph2|raw }}#}
            </div>
            <div class="col-12 mt-3">
                <p class="share-icons mb-5"><span class="pr-1">Share:</span>
                    <i class="pr-1 fa fa-facebook-square"></i><i class="pr-1 fa fa-twitter-square"></i><i
                            class="pr-1 fa fa-reddit-square"></i><i class="pr-1 fa fa-share-alt-square"></i>
                </p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <h3><i class="pr-3 fa fa-comment"></i>Comments ({{ article.comments|length }})</h3>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col-sm-12">
                <img class="comment-img rounded-circle"
                     src="{{ asset('images/astronaut-profile.png') }}">
                <div class="d-inline-block pl-3 align-top">
                    <span class="commenter-name">Amy Oort</span>
                    <div class="form-group">
                        <textarea class="form-control comment-form"
                                  id="articleText"
                                  rows="1"></textarea>
                    </div>
                    <button type="submit" class="btn btn-dark">Comment</button>
                </div>
            </div>
        </div>

        {% for comment in article.comments %}
        <div class="row">
            <div class="col-sm-12">
                    <img class="comment-img rounded-circle"
                         src="{{ asset('images/anakin-skywalker.png') }}">
                    <span class="commenter-name">{{ comment.authorName }}</span>
                    <small>{{ comment.createdAt|ago }}</small>
                    <br>
                    {{ comment.content }}
                    <p><a href="#">Reply</a></p>
            </div>
        </div>
        {% endfor %}
    </div>

{% endblock body %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/article_show.js') }}"></script>
{% endblock %}